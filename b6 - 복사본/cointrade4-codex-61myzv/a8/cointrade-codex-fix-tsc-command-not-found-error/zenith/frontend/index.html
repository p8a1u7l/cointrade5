<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zenith Trade Console</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="brand">
          <div class="logo">Z</div>
          <div>
            <h1>Zenith Trade Console</h1>
            <p>포지션과 리스크를 한눈에 확인하고 제어하세요</p>
          </div>
        </div>
        <div class="market-overview">
          <div class="metric">
            <span class="label">현재 자산</span>
            <span class="value" id="equity-value">$25,640.20</span>
          </div>
          <div class="metric">
            <span class="label">실현 손익</span>
            <span class="value positive" id="pnl-value">+$1,324.60</span>
          </div>
          <div class="metric">
            <span class="label">미실현 손익</span>
            <span class="value negative" id="unrealized-value">-$248.12</span>
          </div>
        </div>
      </header>

      <main class="layout">
        <section class="panel trade-form" data-area="controls">
          <h2>포지션 설정</h2>
          <form id="trade-form">
            <div class="field">
              <label for="symbol">거래 심볼</label>
              <input id="symbol" name="symbol" type="text" value="BTCUSDT" required />
            </div>

            <div class="field grouped">
              <div>
                <label for="leverage-slider">레버리지</label>
                <div class="slider-labels">
                  <span>x1</span>
                  <span>x25</span>
                  <span>x50</span>
                </div>
                <input
                  id="leverage-slider"
                  name="leverage"
                  type="range"
                  min="1"
                  max="50"
                  step="1"
                  value="10"
                />
                <div class="slider-output">
                  <span>현재 배율</span>
                  <strong id="leverage-output">x10</strong>
                </div>
              </div>
              <div>
                <label for="allocation-slider">투자 비율</label>
                <div class="slider-labels">
                  <span>0%</span>
                  <span>50%</span>
                  <span>100%</span>
                </div>
                <input
                  id="allocation-slider"
                  name="allocation"
                  type="range"
                  min="1"
                  max="100"
                  step="1"
                  value="25"
                />
                <div class="slider-output">
                  <span>투자 비중</span>
                  <strong id="allocation-output">25%</strong>
                </div>
              </div>
            </div>

            <div class="field ai-preview">
              <h3>AI 거래 판단</h3>
              <p>
                AI가 시장 상황을 분석하여 매수/매도 방향과 예상 진입 수량을 자동으로
                결정합니다. 사용자는 레버리지와 투자 비중만 조정하면 됩니다.
              </p>
              <div class="ai-metrics">
                <div class="metric">
                  <span>예상 방향</span>
                  <strong id="ai-direction">분석 대기</strong>
                </div>
                <div class="metric">
                  <span>예상 진입가</span>
                  <strong id="ai-price">-</strong>
                </div>
                <div class="metric">
                  <span>예상 수량</span>
                  <strong id="ai-quantity">-</strong>
                </div>
                <div class="metric">
                  <span>신뢰도</span>
                  <strong id="ai-confidence">-</strong>
                </div>
              </div>
              <div class="ai-rationale" id="ai-rationale">
                AI가 최신 데이터를 분석하고 있습니다.
              </div>
            </div>

            <div class="field">
              <label for="notes">추가 메모</label>
              <textarea
                id="notes"
                name="notes"
                rows="3"
                placeholder="AI 판단에 대한 개인 메모를 남겨보세요"
              ></textarea>
            </div>

            <button type="submit" class="primary">AI에게 거래 실행 요청</button>
          </form>
        </section>

        <section class="panel chart-panel" data-area="chart">
          <div class="panel-heading">
            <h2>현재 자산 캔들 차트</h2>
            <div class="chart-controls">
              <select id="chart-symbol">
                <option value="BTCUSDT">BTC / USDT</option>
                <option value="ETHUSDT">ETH / USDT</option>
                <option value="SOLUSDT">SOL / USDT</option>
                <option value="XRPUSDT">XRP / USDT</option>
              </select>
              <select id="chart-interval">
                <option value="1m">1분</option>
                <option value="5m" selected>5분</option>
                <option value="15m">15분</option>
                <option value="1h">1시간</option>
              </select>
            </div>
          </div>
          <div id="chart"></div>
        </section>

        <section class="panel positions-panel" data-area="history">
          <div class="panel-heading">
            <h2>최근 거래 내역</h2>
            <button id="clear-trades" class="ghost" type="button">기록 초기화</button>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>시간</th>
                  <th>심볼</th>
                  <th class="numeric">방향</th>
                  <th class="numeric">레버리지</th>
                  <th class="numeric">투자 비중</th>
                  <th class="numeric">수량</th>
                </tr>
              </thead>
              <tbody id="trade-history">
                <tr class="placeholder">
                  <td colspan="6">아직 실행된 거래가 없습니다.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section class="panel performance-panel" data-area="performance">
          <div class="panel-heading">
            <h2>심볼별 실현 손익</h2>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>심볼</th>
                  <th class="numeric">거래 수</th>
                  <th class="numeric">누적 손익</th>
                </tr>
              </thead>
              <tbody id="performance-body">
                <tr class="placeholder">
                  <td colspan="3">거래가 기록되면 손익 요약이 표시됩니다.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>

    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <script src="app.js"></script>
  </body>
</html>
